---
title: "Survey Software Development Waste"
output:
  html_document: default
  html_notebook: default
  pdf_document: default
  word_document: default
---

#### Pós-Graduação em Ciências da Computação - Cin/UFPE
#### Keila Barbosa Costa dos Santos
#### Denini Gabriel
#### Irvin Bezerra 

### Teste de Mann-Whitney

Instalar os Pacotes
```{r}
if(!require(dplyr)) install.packages("dplyr")   # Instalação do pacote caso não esteja instalado
if(!require(dplyr)) install.packages("rstatix") # Instalação pacote caso não esteja instalado
install.packages("rstatix", repo = 'https://mac.R-project.org')
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Carregar os pacotes que serão usados
```{r}
library(dplyr)                                  
library(rstatix)                                
library(readxl)
```

* Importante: selecionar o diretório de trabalho (working directory)
* Isso pode ser feito manualmente: Session > Set Working Directory > Choose Directory
* Ou usando a linha de código abaixo:
* setwd("~/ES-TAES-2020-1/Base/")

#### Read Data

```{r}
Survey<- read_excel("~/ES-TAES-2020-1/Base/new_results2.xlsx")  # Carregamento do Arquivo xlsx
glimpse(Survey)                                                 # Visualização de um resumo dos dados
```


```{r}
head(Survey)
```
### Realização do teste de Mann-Whitney

```{r}
wilcox.test(build ~ candidate, data = Survey)
wilcox.test(mismanaging ~ candidate, data = Survey)
wilcox.test(rework ~ candidate, data = Survey)
```

##### Observação:
  1. O teste bicaudal? o default; caso deseje unicaudal, necessário incluir:
    * alternative = "?" ou alternative = "?"
  2. Exemplo: wilcox.test(rework ~ Posicao, data = Survey, alternative="?")
    * Nesse caso, o teste verificar ? se ? a mediana do primeiro grupo ? maior que a mediana do segundo
      * O R está considerando "?" como primeiro grupo.

#### Análise descritiva dos dados

```{r}
Survey %>% group_by(candidate) %>% 
  get_summary_stats(build, mismanaging, rework, type = "median_iqr")
```

#### Dados paramátricos

```{r}
# Survey %>% group_by(candidate) %>% 
#  get_summary_stats(build, mismanaging, rework, type = "mean_sd")
```

#### Visualização da distribuição

```{r}


```

1 Adicione um novo trecho pressionando *Cmd + Option + I*.

2 Ao salvar o bloco de notas, um arquivo HTML contendo o código e a saída será salvo junto com ele (pressione *Cmd + Shift + K* para visualizar o arquivo HTML).

3 A visualização mostra uma cópia HTML renderizada do conteúdo do editor. Consequentemente, ao contrário do *Knit *, o *Preview* não executa nenhum fragmento de código R. Em vez disso, a saída do chunk quando foi executado pela última vez no editor é exibida.

4 Tente executar este trecho clicando no botão *Executar* dentro do trecho ou colocando o cursor dentro dele e pressionando *Cmd + Shift + Enter*.

#### Including Plots

```{r}
home.land.byyear <- gather(Survey,
                           value = "value",
                           key = "type",
                           Survey$ACTION, Survey$CATEGORY)
ggplot(Survey,
       aes(x=Survey,
           y=value,
           color=type)) +
  geom_line()
```

#### Examples

```{r}
ES_TAES <-ggplot() + 
  geom_line(aes(y = STATE, x = CATEGORY, colour = ACTION), size=1.0, 
            data = Survey, stat="identity")+
  
  scale_x_discrete(breaks = seq (2006,2015,1))+
  scale_y_continuous(breaks = seq (0.00300,0.08500,0.00500))+
  labs(x="Category", y="Action")+ 
  ggtitle("Survey Software Development Waste") +
  theme_economist() + 
  theme(axis.line.x = element_line (size=.5, colour = "black"),
        legend.position="bottom",
        legend.direction="horizontal",
        legend.title = element_blank(),
        plot.title=element_text(family="OfficinaSanITC-Book"), 
        text=element_text(family="OfficinaSanITC-Book"),
        legend.text = element_text(colour = "black", size = 6, face = "bold"))

ES_TAES_EF <- ES_TAES + scale_colour_manual(values=c("grey","grey","#871F78","#238E23","grey","#3232CD","grey","grey","grey"), 
                                        name="CATEGORY",
                                        labels=c("Building the wrong feature or product",
                                                 "Mismanaging the backlog",
                                                 "Rework",
                                                 "Unnecessarily complex solutions",
                                                 "Extraneous cognitive load",
                                                 "Psychological distress",
                                                 "Waiting/multitasking",
                                                 "Knowledge loss",
                                                 "Ineffective communication"))

ES_TAES_EF
```



